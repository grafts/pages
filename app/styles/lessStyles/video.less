.video-item {
	@width : @video_small_width;
	@height : @video_small_height;
	@timeline_height: 10px;
	@timeline_contents_height : @height - 115px;
	position: absolute;
	width: 100%;
	height: 100%;
	min-height: 100%;
	.edit-tool {
		display: none;
	}
	.contents {
		width: 100%;
		background: #fff;
		padding: (@height * 0.25) 0;
		.container {
			width: @width;
		}
		.player {
			position: relative;
			text-align: center;
			width: 100%;
			.transition_all();
			iframe, img {
				width: @width;
				height: @height;
			}
			.edit-tool {
				text-align: right;
				margin-bottom: 12px;
				&.on {
					display: inline-block;
				}
				button {
					display: none;
					&.on {
						display: inline-block;
					}
				}
			}
			.video-wrapper {
				border: 1px solid @line_color;
			}
			.video {
				width: @width;
				height: @height;
			}
			.timeline {
				position: relative;
				display: inline-block;
				text-align: center;
				margin-top: @timeline_height - 2px;
				width: @width - 16px;
				.script-add {
					position: absolute;
					z-index: 1001;
					background: #fff;
					top: -3px;
					right: -11px;
					width: @timeline_height + 8px;
					height: @timeline_height + 8px;
					border: 1px solid @point_color;
					cursor: pointer;
					text-align: center;
					.rounded-corners(1em);
					i {
						color: @point_color;
						margin-left: -0.15em;
					}
					&:hover {
						.transform(scale(1.3));
					}
				}
				.track {
					height: @timeline_height;
					width: 100%;
					background: @line_color;
					.box-shadow(inset 0 0 0px rgba(0,0,0,0.1));
					.rounded-corners(6px);
					.progress {
						position: relative;
						width: 0;
						height: 100%;
						background: #ed1207;
						.transition(width 200ms linear);
						.rounded-corners(6px);
					}
				}
				.pointers {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					z-index: 100;
					.item {
						position: absolute;
						top: 0;
						left: 0;
						width: 5px;
						height: 100%;
						&:hover {
							.pointer {
								&:before {
									left: 3px;
									width: 3px;
									height: 20px;
									background: @fill_color;
									border-top-right-radius: 3px;
								}
							}
							.summary {
								display: inline-block;
							}
						}
						.pointer {
							position: absolute;
							top: 0;
							left: -3px;
							width: 7px;
							height: @timeline_height;
							cursor: pointer;
							&:before {
								content: '';
								position: absolute;
								top: 0;
								left: 3px;
								height: 100%;
								width: 1px;
								background: @light_font_color;
							}
						}
						.summary {
							display: none;
							position: absolute;
							top: 20px;
							left: -20px;
							min-width: 80px;
							max-width: @width/3;
							padding: 4px;
							color: #fff;
							text-align: left;
							font-size: @small_font_size;
							font-family: @sans_serif;
							background: @fill_color;
							text-overflow:ellipsis;
							white-space:nowrap;
							word-wrap:normal;
							overflow: hidden;
							z-index: 1000;
							.rounded-corners();
						}
					}
					.item.on {
						.pointer {
							&:before {
								width: 2px;
								height: 24px;
								background: @point_color;
							}
							&:after {
								content: '';
								position: absolute;
								top: 24px;
								left: -1px;
								width: 10px;
								height: 10px;
								background: @point_color;
								.rounded-corners(5px);
							}
						}
					}
				}
			}
		}
		.timeline-contents {
			position: relative;
			margin-top: @timeline_height - 2px;
			.transition_all();
			.container {
				&:before {
					content: '';
					position: absolute;
					z-index: 0;
					top: -8px;
					left: 3%;
					width: 94%;
					height: 8px;
					.box-shadow(0 8px 14px -1px rgba(0, 0, 0, 0.15));
				}
				.scripts {
					position: relative;
					overflow: hidden;
					height: @timeline_contents_height;
					.item {
						position: relative;
						min-height: @height / 10;
						max-height: @height / 5;
						overflow: hidden;
						margin-top: @height / 16;
						padding: 0 40px 0 @width * 0.17;
						opacity: 0.3;
						&:hover {
							opacity: 0.6;
							.clock {
								background: @point_color;
								&:after {
									border-left: 12px solid @point_color;
								}
							}
							.anker {
								background: @point_color;
							}
							.comments-link {
								background: @point_color;
								&:after {
									border-right: 6px solid @point_color;
								}
							}
							.script {
								color: @point_color;
							}
						}
						.clock {
							position: absolute;
							top: 3px;
							left: 0;
							height: 24px;
							width: @width * 0.11;
							z-index: 2;
							padding: 0.9em 0 0 4px;
							background: @fill_color;
							text-align: center;
							border-top-left-radius: 4px;
							border-bottom-left-radius: 4px;
							font-size: @small_font_size;
							font-weight: bold;
							line-height: 0;
							letter-spacing: 0.1em;
							color: #fff;
							cursor: pointer;
							.transition(background-color 150ms linear);
							&:after {
								content: '';
								position: absolute;
								top: 0;
								right: -12px;
								border-top: 12px solid transparent;
								border-bottom: 12px solid transparent; 
								border-left: 12px solid @fill_color;
								.transition(border-color 150ms linear);
							}
						}
						.anker {
							content: '';
							position: absolute;
							z-index: 1;
							top: 10px;
							left: @width * 0.14;
							width: 10px;
							height: 10px;
							background: @fill_color;
							cursor: pointer;
							.rounded-corners(15px);
							.transition(background-color 200ms linear);
						}
						.script {
							display: inline-block;
							width: 100%;
							position: relative;
							font-family: 'FF Meta Serif Web Pro', 'Nanum Myeongjo', serif;
							background: #fff;
							cursor: pointer;
							.transition(color 300ms linear);
							p {
								display: block;
								font-family: @sans_serif;
								font-size: 1.1em;
								font-weight: normal;
								line-height: 2em;
								min-height: 1em;
							}
						}
						.comments-link {
							display: none;
							position: absolute;
							top: 2px;
							right: 0;
							min-width: 20px;
							padding: 4px;
							background: @fill_color;
							font-size: @small_font_size;
							line-height: 1.1em;
							color: #fff;
							cursor: pointer;
							.rounded-corners();
							.transition(background-color 400ms linear);
							&:after {
								content: '';
								position: absolute;
								top: 7px;
								left: -6px;
								border-top: 4px solid transparent;
								border-bottom: 4px solid transparent; 
								border-right: 6px solid @fill_color;
								.transition(border-color 400ms linear);
							}
							&:hover {
								background: @point_color;
								&:after {
									border-right: 6px solid @point_color;
								}
							}
							i {
								display: none;
								font-size: 20px;
							}
						}
						.script-delete {
							display: none;
							position: absolute;
							top: 2px;
							right: 0;
							min-width: 20px;
							padding: 4px;
							background: @fill_color;
							font-size: @small_font_size;
							line-height: 1.1em;
							color: #fff;
							cursor: pointer;
							.rounded-corners();
							.transition(background-color 400ms linear);
							&:hover {
								background: @point_color;
							}
							i {
								&:before {
									width: auto;
								}
							}
						}
					}
					.item.on {
						opacity: 1;
						.clock {
							background: @point_color;
							&:after {
								border-left: 12px solid @point_color;
							}
						}
						.anker {
							background: @point_color;
						}
						.comments-link {
							display: inline-block;
							background: @point_color;
							&:after {
								border-right: 6px solid @point_color;
							}
						}
					}
				}
			}
		}

		.script-comments-bundle {
			position: relative;
			display: none;
			width: 100%;
			font-size: 1em;
			background: #fff;
			letter-spacing: 0;
			font-family: @sans_serif;
			margin-top: -18px;
			.transition_all();
			.container {
				text-align: right;
			}
			.item.on {
				display: inline-block;
				.animate(fadeInfromright, 0.5s);
			}
			.item {
				display: none;
				opacity: 0;
				text-align: right;
				width: @width / 2;
				margin-top: -(@height + @timeline_contents_height + (@height * 0.415) + 16px);
				.transform(translateX(@width / 2));
				.transition_all();
				.comments-wrapper {
					display: table;
					min-height: @height + @timeline_contents_height + (@height * 0.415) + 10px;
					padding: 8px 0 8px 16px;
					border-left: 1px solid @line_color;
					&:before {
						content: '';
						position: absolute;
						top: @height + 51px;
						left: -12px;
						border-top: 12px solid transparent;
						border-bottom: 12px solid transparent; 
						border-right: 12px solid @line_color;
					}
					&:after {
						content: '';
						position: absolute;
						top: @height + 51px;
						left: -10px;
						border-top: 12px solid transparent;
						border-bottom: 12px solid transparent; 
						border-right: 12px solid #fff;
					}
				}
				.comment {
					text-align: left;
					margin-bottom: 16px;
					padding-bottom: 16px;
					border-bottom: 1px solid @line_color;
					.author {
						.avatar {
							display: inline-block;
							position: absolute;
							width: 32px;
							height: 32px;
							.rounded-corners(16px);
						}
						.name {
							display: inline-block;
							vertical-align: top;
							margin: 9px 0;
							padding-left: 40px;
							width: 100%;
							text-overflow:ellipsis;
							white-space:nowrap;
							word-wrap:normal;
						}
					}
					.note {
						padding-left: 40px;
						font-family: @serif;
					}
					.date {
						margin-top: 4px;
						padding-left: 40px;
						font-size: @small_font_size;
						color: @light_font_color;
					}
				}
				.reply {
					display: inline-block;
				}
				.button {
					padding: 4px 12px;
					font-size: @small_font_size;
					border-color: rgba(0, 0, 0, 0.3);
				}
				.reply-form {
					display: none;
				}
			}
		}

	}
	.contents.comments-on {
		@distance : -(@width/2) - @grid-gutter-width;
		.timeline-contents {
			.scripts {
				.item.on {
					.comments-link {
						.animate(rolling, 0.5s);
						&:after {
							border-right: 0;
						}
						.count {
							display: none;
						}
						i {
							display: inline;
						}
					}
				}
			}
			.transform(translateX(@distance));
		}
		.player {
			.transform(translateX(@distance));
		}
		.widget {
			.transform(translateX(@distance));
		}
		.comments {
			display: inline-block;
		}
	}
}

.video-item.edit {
	.edit-tool {
		display: block;
	}
	.contents {
		.timeline-contents {
			.container {
				.scripts {
					height: auto !important;
					.item {
						opacity: 0.8;
						&:hover {
							opacity: 1;
						}
						.clock {
							background: @common_color !important;
							&:after {
								border-left: 12px solid @common_color !important;
							}
						}
						.anker {
							background: @common_color !important;
						}
						.script {
							color: @common_color !important;
							cursor: text;
						}
					}
					.item.on {
						opacity: 1;
					}
					.script-delete {
						display: inline-block;
					}
				}
			}
		}
	}
}

.video_mediaquery(@screen, @width, @height){
	@timeline_height: 12px;
	@timeline_contents_height : @height - 115px;
	@media (min-width: @screen) {
		.video-item {
			.contents {
				padding: (@height * 0.25) 0;
				.container {
					width: @width;
				}
				.player {
					iframe, img {
						width: @width;
						height: @height;
					}
					.video {
						width: @width;
						height: @height;
					}
					.timeline {
						width: @width - 16px;
						margin-top: @timeline_height - 2px;
						.track {
							height: @timeline_height;
						}
						.pointers {
							.item {
								.pointer {
									height: @timeline_height;
								}
							}
						}
					}
				}
				.timeline-contents {
					margin-top: @timeline_height - 2px;
					.container {
						.scripts {
							height: @timeline_contents_height;
							.item {
								min-height: @height / 10;
								max-height: @height / 5;
								margin-top: @height / 16;
								padding: 0 40px 0 @width * 0.17;
								.clock {
									width: @width * 0.11;
								}
								.anker {
									left: @width * 0.14;
								}
							}
						}
					}
				}
				.widget {
					margin-top: @height * 0.19;
					padding-bottom: @height * 0.19;
				}
				.script-comments-bundle {
					.item {
						width: @width / 2;
						margin-top: -(@height + @timeline_contents_height + (@height * 0.415) + 16px);
						.transform(translateX(@width / 2));
						.comments-wrapper {
							min-height: @height + @timeline_contents_height + (@height * 0.415) + 10px;
							&:before {
								top: @height + 54px;
							}
							&:after {
								top: @height + 54px;
							}
						}
					}
				}
			}
			.contents.comments-on {
				@distance : -(@width/2) - @grid-gutter-width;
				.timeline-contents {
					.transform(translateX(@distance));
				}
				.player {
					.transform(translateX(@distance));
				}
				.widget {
					.transform(translateX(@distance));
				}
			}
		}
	}
}
.video_mediaquery(@screen_mini, @video_mini_width, @video_mini_height);
.video_mediaquery(@screen_small, @video_small_width, @video_small_height);
.video_mediaquery(@screen_medium, @video_medium_width, @video_medium_height);
.video_mediaquery(@screen_big, @video_big_width, @video_big_height);


